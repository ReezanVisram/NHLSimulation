#:kivy 1.10.0


<OneWeek>:
    GridLayout:
        size_hint: 1, 0.2
        cols: 7
        rows: 1

        CalendarComponent:
            id: Sunday
            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
    
        CalendarComponent:
            id: Monday

            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            

        CalendarComponent:
            id: Tuesday

            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height

        CalendarComponent:
            id: Wednesday

            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            
        CalendarComponent:
            id: Thursday

            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height

        CalendarComponent:
            id: Friday

            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height

        CalendarComponent:
            id: Saturday

            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height



<Manager>:
    MainMenuScreen:

    AboutScreen:

    ChooseTeamScreen:

    TeamHomeScreen:

    CurrentTeamForwardLineScreen:

    CurrentTeamDefenseLineScreen:

    CurrentTeamGoalieLineScreen:

    CurrentPlayerInfoScreen:

<MainMenuScreen>:
    name: "MainMenuScreen"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            source: 'imgs/nhlshield.png'
            size_hint: 0.3, 0.3
            pos_hint: {'x': 0.35, "top": 0.85}

        Label:
            text: "NHL Simulation"
            font_size: 40
            pos_hint: {"x": 0, "y": 0.4}
            color: [0, 0, 0, 1]

        Button:
            id: startSimulation
            text: "Start Simulation"
            size_hint: 0.4, 0.1
            pos_hint: {"x": 0.3, "top": 0.5}
            on_press: root.manager.current = 'ChooseTeamScreen'
            
        Button:
            text: "About"
            size_hint: 0.4, 0.1
            pos_hint: {"x": 0.3, "top": 0.35}
            on_press: root.manager.current = 'AboutScreen'

        Button:
            text: "Quit"
            size_hint: 0.4, 0.1
            pos_hint: {"x": 0.3, "top": 0.2}

<AboutScreen>:
    name: "AboutScreen"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            text: "The rights to all players and teams, along with their likenesses and logos belong to the National Hockey League and National Hockey League Players Association."
            text_size: self.size
            pos_hint: {"top": -0.5}
            color: [0, 0, 0, 1]

        Button:
            text: "Back to Menu"
            size_hint: 0.4, 0.1
            pos_hint: {"x": 0.3, "top": 0.15}
            on_press: root.manager.current = 'MainMenuScreen'

<ChooseTeamScreen>:
    name: "ChooseTeamScreen"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        
        Label:
            text: "Choose which team to follow"
            font_size: 40
            pos_hint: {"x": 0.025, "y": 0.4}
            color: [0, 0, 0, 1]

    GridLayout:
        id: grid
        cols: 1

<TeamHomeScreen>:
    name: "TeamHomeScreen"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            id: TeamHomeScreenTitle
            text: root.manager.screens[2].currTeam
            font_size: 40
            pos_hint: {"top": 1.45}
            color: [0, 0, 0, 1]

        Label:
            id: CurrTeamRecord
            font_size: 30
            pos_hint: {"top": 1.35}
            color: [0, 0, 0, 1]

        Label:
            id: LatestGameResult
            font_size: 30
            pos_hint: {"top": 1.25}
            color: [0, 0, 0, 1]

        Image:
            id: TeamHomeScreenLogo
            size_hint: 0.2, 0.2
            pos_hint: {"top": 0.98}

        Button:
            text: "View Lines"
            size_hint: 0.3, 0.1
            pos_hint: {"x": 0.01, "top": 0.7}
            on_press: root.goToLines()

        Button:
            id: StartSim
            text: "Start Simulation"
            size_hint: 0.3, 0.1
            pos_hint: {"x": 0.01, "top": 0.5}
            on_press: root.runSimulation()

        Button:
            text: "Stop Simulation"
            size_hint: 0.3, 0.1
            pos_hint: {"x": 0.01, "top": 0.3}
            on_press: root.stopSimulation()

        OneWeek:
            pos: self.pos
            id: MainCalendar
            size: self.size

<CurrentTeamForwardLineScreen>:
    name: "CurrentTeamForwardLineScreen"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            id: TeamForwardLinesLogo
            size_hint: 0.2, 0.2
            pos_hint: {"right": 1, "top": 1}

        Button:
            text: "Back to Dashboard"
            on_press: root.manager.current = 'TeamHomeScreen'
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0, "top": 0.95}

        Button:
            text: "Defense"
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.2, "top": 0.95}
            on_press: root.manager.current = 'CurrentTeamDefenseLineScreen'

        Button:
            id: FirstLineLW
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.05, "top": 0.8}
            on_press: root.getCurrPlayer(self)

        Button:
            id: FirstLineC
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.4, "top": 0.8}
            on_press: root.getCurrPlayer(self)

        Button:
            id: FirstLineRW
            size_hint: 0.2, 0.1
            pos_hint: {"right": 0.95, "top": 0.8}
            on_press: root.getCurrPlayer(self)

        Button:
            id: SecondLineLW
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.05, "top": 0.6}
            on_press: root.getCurrPlayer(self)

        Button:
            id: SecondLineC
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.4, "top": 0.6}
            on_press: root.getCurrPlayer(self)

        Button:
            id: SecondLineRW
            size_hint: 0.2, 0.1
            pos_hint: {"right": 0.95, "top": 0.6}
            on_press: root.getCurrPlayer(self)

        Button:
            id: ThirdLineLW
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.05, "top": 0.4}
            on_press: root.getCurrPlayer(self)

        Button:
            id: ThirdLineC
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.4, "top": 0.4}
            on_press: root.getCurrPlayer(self)

        Button:
            id: ThirdLineRW
            size_hint: 0.2, 0.1
            pos_hint: {"right": 0.95, "top": 0.4}
            on_press: root.getCurrPlayer(self)

        Button:
            id: FourthLineLW
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.05, "top": 0.2}
            on_press: root.getCurrPlayer(self)

        Button:
            id: FourthLineC
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.4, "top": 0.2}
            on_press: root.getCurrPlayer(self)

        Button:
            id: FourthLineRW
            size_hint: 0.2, 0.1
            pos_hint: {"right": 0.95, "top": 0.2}
            on_press: root.getCurrPlayer(self)

<CurrentTeamDefenseLineScreen>:
    name: "CurrentTeamDefenseLineScreen"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            id: TeamDefenseLinesLogo
            size_hint: 0.2, 0.2
            pos_hint: {"right": 1, "top": 1}

        Button:
            text: "Back to Dashboard"
            on_press: root.manager.current = 'TeamHomeScreen'
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0, "top": 0.95}

        Button:
            text: "Goalies"
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.2, "top": 0.95}
            on_press: root.manager.current = 'CurrentTeamGoalieLineScreen'

        Button:
            id: FirstLineLD
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.2, "top": 0.8}
            on_press: root.getCurrPlayer(self)

        Button:
            id: FirstLineRD
            size_hint: 0.2, 0.1
            pos_hint: {"right": 0.8, "top": 0.8}
            on_press: root.getCurrPlayer(self)

        Button:
            id: SecondLineLD
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.2, "top": 0.6}
            on_press: root.getCurrPlayer(self)

        Button:
            id: SecondLineRD
            size_hint: 0.2, 0.1
            pos_hint: {"right": 0.8, "top": 0.6}
            on_press: root.getCurrPlayer(self)

        Button:
            id: ThirdLineLD
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.2, "top": 0.4}
            on_press: root.getCurrPlayer(self)

        Button:
            id: ThirdLineRD
            size_hint: 0.2, 0.1
            pos_hint: {"right": 0.8, "top": 0.4}
            on_press: root.getCurrPlayer(self)

<CurrentTeamGoalieLineScreen>:
    name: "CurrentTeamGoalieLineScreen"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            id: TeamGoalieLinesLogo
            size_hint: 0.2, 0.2
            pos_hint: {"right": 1, "top": 1}

        Button:
            text: "Back to Dashboard"
            on_press: root.manager.current = 'TeamHomeScreen'
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0, "top": 0.95}

        Button:
            text: "Forwards"
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.2, "top": 0.95}
            on_press: root.manager.current = 'CurrentTeamForwardLineScreen'

        Button:
            id: StartingGoalie
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.4, "top": 0.8}
            on_press: root.getCurrPlayer(self)
        
        Button:
            id: BackupGoalie
            size_hint: 0.2, 0.1
            pos_hint: {"x": 0.4, "top": 0.6}
            on_press: root.getCurrPlayer(self)

<CurrentPlayerInfoScreen>:
    name: "CurrentPlayerInfoScreen"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            id: CurrentPlayerInformationLogo
            size_hint: 0.2, 0.2
            pos_hint: {"right": 1, "top": 1}

        Button:
            text: "Back to Lines"
            on_press: root.manager.current = 'CurrentTeamForwardLineScreen'
            size_hint: 0.2, 0.1
            pos_hint: {"y": 0}            

        Label:
            id: CurrentPlayerName
            font_size: 40
            pos_hint: {"x": -0.1, "top": 1.4}
            color: [0, 0, 0, 1]

        Label:
            text: "Stats:"
            color: [0, 0, 0, 1]
            font_size: 30
            pos_hint: {"x": -0.43, "top": 1.3}

        Label:
            text: "Season: "
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": -0.1, "top": 1.2}

        Label:
            id: LatestSeason
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": 0.1, "top": 1.2}


        Label:
            id: GamesPlayed
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": -0.1, "top": 1.1}

        Label:
            id: LatestSeasonGamesPlayed
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": 0.1, "top": 1.1}

        Label:
            id: Stat1
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": -0.1, "top": 1.0}

        Label:
            id: LatestStat1
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": 0.1, "top": 1.0}
        
        Label:
            id: Stat2
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": -0.1, "top": 0.9}

        Label:
            id: LatestStat2
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": 0.1, "top": 0.9}

        Label:
            id: Stat3
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": -0.1, "top": 0.8}

        Label:
            id: LatestStat3
            color: [0, 0, 0, 1]
            font_size: 20
            pos_hint: {"x": 0.1, "top": 0.8}

        Button:
            text: "Other Season"
            on_press: root.changeSeason()
            size_hint: 0.2, 0.1
            pos_hint: {"right": 1, "y": 0} 

<CalendarComponent>:
    size_hint_x: None

    id: dayCanvas

    Image:
        id: CalendarLogo
        y: self.parent.y + self.parent.height - 100
        x: self.parent.x

    Label:
        id: GameScore
        y: self.parent.y + self.parent.height - 100
        x: self.parent.x
        color: [0, 0, 0, 1]
        font_size: 50

